{"version":3,"sources":["components/ContactForm/ContactForm.module.css","components/ContactsItem/ContactsItem.module.css","components/Filter/Filter.module.css","views/Contacts/Contacts.module.css","redux/phonebook/phonebook-operations.js","redux/phonebook/phonebook-selectors.js","components/ContactForm/ContactForm.js","components/ContactsItem/ContactsItem.js","components/Filter/Filter.js","views/Contacts/Contacts.jsx"],"names":["module","exports","addContact","name","number","dispatch","contact","addContactRequest","axios","post","then","data","addContactSuccess","catch","error","addContactError","message","deleteContact","id","deleteContactRequest","delete","deleteContactSuccess","deleteContactError","fetchContacts","a","fetchContactsRequest","get","fetchContactsSuccess","fetchContactsError","getFiltered","state","contacts","filter","getAllContacts","items","getLoading","loading","getErrorMessage","getFilteredContacts","createSelector","normalizedFilter","toLowerCase","item","includes","ContactForm","handleChange","e","setState","target","value","onHandleSubmit","preventDefault","props","find","alert","onSubmit","className","form","this","inputTitle","form_input","type","onChange","button","Component","mapDispatchToProps","contactsOperations","connect","contactsSelectors","onDelete","filtered","map","contactItem","delete_button","onClick","changeFilter","inputForm","Contacts","isLoadingContacts","isContactIncludes","container","formTitle","color","height","width","contactsCont","contactsList","length"],"mappings":"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","file":"static/js/4.18425335.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactForm_form__NIldT\",\"form_input\":\"ContactForm_form_input__13CQb\",\"button\":\"ContactForm_button__qBBRG\",\"inputTitle\":\"ContactForm_inputTitle__nCWxU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"delete_button\":\"ContactsItem_delete_button__1cY2G\",\"contactItem\":\"ContactsItem_contactItem__banjT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputForm\":\"Filter_inputForm__2cVT2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Contacts_container__xpMbF\",\"formTitle\":\"Contacts_formTitle__1Hl2n\",\"contactsCont\":\"Contacts_contactsCont__1Berj\",\"contactsList\":\"Contacts_contactsList__2I_5J\"};","import axios from 'axios';\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactError,\r\n  deleteContactSuccess,\r\n  fetchContactsError,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n} from './phonebook-actions';\r\n\r\nconst fetchContacts = () => async dispatch => {\r\n  dispatch(fetchContactsRequest());\r\n\r\n  try {\r\n    const { data } = await axios.get('/contacts');\r\n    dispatch(fetchContactsSuccess(data));\r\n  } catch (error) {\r\n    dispatch(fetchContactsError(error.message));\r\n  }\r\n};\r\n\r\nconst addContact = ({ name, number }) => dispatch => {\r\n  const contact = {\r\n    name,\r\n    number,\r\n  };\r\n\r\n  dispatch(addContactRequest());\r\n\r\n  axios\r\n    .post('/contacts', contact)\r\n    .then(({ data }) => dispatch(addContactSuccess(data)))\r\n    .catch(error => dispatch(addContactError(error.message)));\r\n};\r\n\r\nconst deleteContact = id => dispatch => {\r\n  dispatch(deleteContactRequest());\r\n\r\n  axios\r\n    .delete(`/contacts/${id}`)\r\n    .then(() => dispatch(deleteContactSuccess(id)))\r\n    .catch(error => dispatch(deleteContactError(error.message)));\r\n};\r\n\r\nexport default { addContact, deleteContact, fetchContacts };\r\n","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nconst getLoading = state => state.contacts.loading;\r\n\r\nconst getFiltered = state => state.contacts.filter;\r\n\r\nconst getAllContacts = state => state.contacts.items;\r\n\r\nconst getErrorMessage = state => state.contacts.error;\r\n\r\nconst getFilteredContacts = createSelector(\r\n  [getAllContacts, getFiltered],\r\n  (contacts, filter) => {\r\n    const normalizedFilter = filter.toLowerCase();\r\n    return contacts.filter(item =>\r\n      item.name.toLowerCase().includes(normalizedFilter),\r\n    );\r\n  },\r\n);\r\n\r\nexport default {\r\n  getLoading,\r\n  getFiltered,\r\n  getAllContacts,\r\n  getErrorMessage,\r\n  getFilteredContacts,\r\n};\r\n","import React, { Component } from 'react';\r\nimport { form, button, form_input, inputTitle } from './ContactForm.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { contactsOperations, contactsSelectors } from '../../redux/phonebook';\r\n\r\nclass ContactForm extends Component {\r\n  state = {\r\n    name: '',\r\n    number: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  onHandleSubmit = e => {\r\n    e.preventDefault();\r\n    const found = this.props.contacts.find(item => {\r\n      return item.name === this.state.name || item.number === this.state.number;\r\n    });\r\n    if (found) {\r\n      alert('Такой контакт уже есть!');\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state);\r\n    this.setState({\r\n      name: '',\r\n      number: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className={form} onSubmit={this.onHandleSubmit}>\r\n        <h4 className={inputTitle}>Name</h4>\r\n        <input\r\n          className={form_input}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={this.state.name}\r\n          onChange={this.handleChange}\r\n        ></input>\r\n        <h4 className={inputTitle}>Number</h4>\r\n        <input\r\n          className={form_input}\r\n          type=\"number\"\r\n          name=\"number\"\r\n          value={this.state.number}\r\n          onChange={this.handleChange}\r\n        ></input>\r\n        <button type=\"submit\" className={button}>\r\n          Add contact\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onSubmit: contactsOperations.addContact,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  contacts: contactsSelectors.getAllContacts(state),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactForm);\r\n","import React from 'react';\r\nimport { delete_button, contactItem } from './ContactsItem.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { contactsOperations } from '../../redux/phonebook';\r\nconst ContactsItem = ({ filtered, onDelete }) => {\r\n  return filtered.map(({ name, number, id }) => {\r\n    return (\r\n      <li key={id} name={name} className={contactItem}>\r\n        <p>name: {name}</p>\r\n        <p>tel.: {number}</p>\r\n        <button\r\n          type=\"button\"\r\n          className={delete_button}\r\n          onClick={() => onDelete(id)}\r\n        ></button>\r\n      </li>\r\n    );\r\n  });\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  onDelete: contactsOperations.deleteContact,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(ContactsItem);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { changeFilter } from '../../redux/phonebook/phonebook-actions';\r\nimport { contactsSelectors } from '../../redux/phonebook';\r\nimport { inputForm } from './Filter.module.css';\r\nconst Filter = ({ value, onChange }) => {\r\n  return (\r\n    <>\r\n      <p>Find contacts by name</p>\r\n      <input\r\n        type=\"text\"\r\n        name=\"filter\"\r\n        value={value}\r\n        onChange={onChange}\r\n        className={inputForm}\r\n      ></input>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  value: contactsSelectors.getFiltered(state),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onChange: e => dispatch(changeFilter(e.target.value)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter);\r\n","import React, { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport ContactForm from '../../components/ContactForm/ContactForm';\r\nimport ContactsItem from '../../components/ContactsItem/ContactsItem';\r\nimport Filter from '../../components/Filter/Filter';\r\nimport { connect } from 'react-redux';\r\nimport { contactsSelectors, contactsOperations } from '../../redux/phonebook';\r\nimport {\r\n  container,\r\n  formTitle,\r\n  contactsCont,\r\n  contactsList,\r\n} from './Contacts.module.css';\r\n\r\nclass Contacts extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchContacts();\r\n  }\r\n\r\n  render() {\r\n    const { isLoadingContacts, isContactIncludes, error } = this.props;\r\n    return (\r\n      <div className={container}>\r\n        <h2 className={formTitle}>Phonebook</h2>\r\n        <ContactForm />\r\n        {error && <p className=\"error-message\">{error}</p>}\r\n        {isLoadingContacts && (\r\n          <Loader type=\"ThreeDots\" color=\"grey\" height={100} width={100} />\r\n        )}\r\n        {isContactIncludes && (\r\n          <div className={contactsCont}>\r\n            <h2 className={formTitle}>Contacts</h2>\r\n            <Filter />\r\n            <ul className={contactsList}>\r\n              <ContactsItem filtered={this.props.contacts} />\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  contacts: contactsSelectors.getFilteredContacts(state),\r\n  isContactIncludes: state.contacts.items.length > 0,\r\n  isLoadingContacts: contactsSelectors.getLoading(state),\r\n  error: contactsSelectors.getErrorMessage(state),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchContacts: () => dispatch(contactsOperations.fetchContacts()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Contacts);\r\n"],"sourceRoot":""}