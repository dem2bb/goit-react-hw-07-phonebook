{"version":3,"sources":["components/AuthNav/AuthNav.module.css","components/Navigation/Navigation.module.css","components/UserMenu/UserMenu.module.css","components/AppBar/AppBar.module.css","components/Container/Container.module.css","components/MainContainer/MainContainer.module.css","redux/phonebook/phonebook-actions.js","redux/auth/auth-actions.js","redux/auth/auth-reducer.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","components/AuthNav/AuthNav.jsx","components/Navigation/Navigation.jsx","images/avatar.jpg","components/UserMenu/UserMenu.jsx","components/AppBar/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","components/Container/Container.jsx","components/MainContainer/MainContainer.jsx","App.js","redux/phonebook/phonebook-reducer.js","redux/store.js","index.js"],"names":["module","exports","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","registerRequest","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","initialUserState","name","email","user","createReducer","authActions","_","payload","token","setError","error","isLoggedIn","combineReducers","axios","defaults","baseURL","headers","common","Authorization","register","credentials","dispatch","a","post","response","data","message","logIn","logOut","getCurrentUser","getState","persistedToken","auth","get","getIsAuthenticated","state","getUsername","AuthNav","to","exact","className","navLink","activeClassName","activeNavLink","Component","connect","isAuthenticated","authSelectors","mapDispatchToProps","onLogOut","authOperations","avatar","defaultAvatar","usermenuCont","src","alt","width","avatarImg","userName","type","onClick","logoutBtn","header","component","redirectTo","routeProps","render","props","restricted","Container","children","ContainerPage","mainContainer","HomePage","lazy","Contacts","Register","Login","App","this","onGetCurrentUser","fallback","MainContainer","path","items","action","index","findIndex","item","id","slice","filter","loading","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contacts","phonebookReducer","persistor","persistStore","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ef918a46.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"AuthNav_navLink__3AL_H\",\"activeNavLink\":\"AuthNav_activeNavLink__1F-WS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"Navigation_navLink__2RCNN\",\"activeNavLink\":\"Navigation_activeNavLink__33PL7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usermenuCont\":\"UserMenu_usermenuCont__j3vDN\",\"avatarImg\":\"UserMenu_avatarImg__1X4Wn\",\"userName\":\"UserMenu_userName__Ukjph\",\"logoutBtn\":\"UserMenu_logoutBtn__1IJeq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__1jmyf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContainerPage\":\"Container_ContainerPage__1ljak\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"MainContainer_mainContainer__37hiR\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactsRequest = createAction(\r\n  'contacts/fetchContactsRequest',\r\n);\r\nexport const fetchContactsSuccess = createAction(\r\n  'contacts/fetchContactsSuccess',\r\n);\r\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction(\r\n  'contacts/deleteContactRequest',\r\n);\r\nexport const deleteContactSuccess = createAction(\r\n  'contacts/deleteContactSuccess',\r\n);\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nexport const deleteContact = createAction('phonebook/Delete');\r\nexport const changeFilter = createAction('phonebook/changeFilter');\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst loginRequest = createAction('auth/loginRequest');\r\nconst loginSuccess = createAction('auth/loginSuccess');\r\nconst loginError = createAction('auth/loginError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\nexport default {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport authActions from './auth-actions';\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.logoutSuccess]: () => initialUserState,\r\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.logoutSuccess]: () => null,\r\n});\r\n\r\nconst setError = (_, { payload }) => payload;\r\n\r\nconst error = createReducer(null, {\r\n  [authActions.registerError]: setError,\r\n  [authActions.loginError]: setError,\r\n  [authActions.logoutError]: setError,\r\n  [authActions.getCurrentUserError]: setError,\r\n});\r\n\r\nconst isLoggedIn = createReducer(false, {\r\n  [authActions.registerSuccess]: () => true,\r\n  [authActions.loginSuccess]: () => true,\r\n  [authActions.getCurrentUserSuccess]: () => true,\r\n  [authActions.registerError]: () => false,\r\n  [authActions.loginError]: () => false,\r\n  [authActions.getCurrentUserError]: () => false,\r\n  [authActions.logoutSuccess]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  isLoggedIn,\r\n  token,\r\n  error,\r\n});\r\n","import axios from 'axios';\r\nimport authActions from './auth-actions';\r\n\r\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = credentials => async dispatch => {\r\n  dispatch(authActions.registerRequest());\r\n  try {\r\n    const response = await axios.post('/users/signup', credentials);\r\n\r\n    token.set(response.data.token);\r\n\r\n    dispatch(authActions.registerSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.registerError(error.message));\r\n  }\r\n};\r\n\r\nconst logIn = credentials => async dispatch => {\r\n  dispatch(authActions.loginRequest());\r\n  try {\r\n    const response = await axios.post('/users/login', credentials);\r\n\r\n    token.set(response.data.token);\r\n\r\n    dispatch(authActions.loginSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.loginError(error.message));\r\n  }\r\n};\r\n\r\nconst logOut = () => async dispatch => {\r\n  dispatch(authActions.logoutRequest());\r\n  try {\r\n    await axios.post('/users/logout');\r\n    token.unset();\r\n    dispatch(authActions.logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(authActions.logoutError(error.message));\r\n  }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  token.set(persistedToken);\r\n\r\n  dispatch(authActions.getCurrentUserRequest());\r\n  try {\r\n    const response = await axios.get('/users/current');\r\n    dispatch(authActions.getCurrentUserSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.getCurrentUserError(error.message));\r\n  }\r\n};\r\n\r\nexport default { register, logIn, logOut, getCurrentUser };\r\n","const getIsAuthenticated = state => state.auth.isLoggedIn;\r\n\r\nconst getUsername = state => state.auth.user.name;\r\n\r\nexport default { getIsAuthenticated, getUsername };\r\n","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { navLink, activeNavLink } from './AuthNav.module.css';\r\nclass AuthNav extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <NavLink\r\n          to=\"/register\"\r\n          exact\r\n          className={navLink}\r\n          activeClassName={activeNavLink}\r\n        >\r\n          Регистрация\r\n        </NavLink>\r\n        <NavLink\r\n          to=\"/login\"\r\n          exact\r\n          className={navLink}\r\n          activeClassName={activeNavLink}\r\n        >\r\n          Логин\r\n        </NavLink>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AuthNav;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { navLink, activeNavLink } from './Navigation.module.css';\r\nimport { authSelectors } from '../../redux/auth';\r\n\r\nconst Navigation = ({ isAuthenticated }) => {\r\n  return (\r\n    <div>\r\n      <NavLink to=\"/\" exact className={navLink} activeClassName={activeNavLink}>\r\n        Главная\r\n      </NavLink>\r\n      {isAuthenticated && (\r\n        <NavLink\r\n          to=\"/contacts\"\r\n          exact\r\n          className={navLink}\r\n          activeClassName={activeNavLink}\r\n        >\r\n          Контакты\r\n        </NavLink>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(Navigation);\r\n","export default __webpack_public_path__ + \"static/media/avatar.e2cd5f45.jpg\";","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  usermenuCont,\r\n  avatarImg,\r\n  userName,\r\n  logoutBtn,\r\n} from './UserMenu.module.css';\r\nimport { authSelectors, authOperations } from '../../redux/auth';\r\nimport defaultAvatar from '../../images/avatar.jpg';\r\n\r\nconst UserMenu = ({ name, avatar, onLogOut }) => {\r\n  return (\r\n    <div className={usermenuCont}>\r\n      <img src={avatar} alt=\"\" width=\"32\" className={avatarImg} />\r\n      <span className={userName}>Welcome, {name}! </span>\r\n      <button type=\"button\" onClick={onLogOut} className={logoutBtn}></button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  name: authSelectors.getUsername(state),\r\n  avatar: defaultAvatar,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onLogOut: authOperations.logOut,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport AuthNav from '../AuthNav/AuthNav';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport UserMenu from '../UserMenu/UserMenu';\r\nimport { header } from './AppBar.module.css';\r\nimport { authSelectors } from '../../redux/auth';\r\n\r\nconst AppBar = ({ isAuthenticated }) => {\r\n  return (\r\n    <header className={header}>\r\n      <Navigation />\r\n      {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n};\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(AppBar);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated ? <Component {...props} /> : <Redirect to={redirectTo} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import React from 'react';\r\nimport { ContainerPage } from './Container.module.css';\r\n\r\nconst Container = ({ children }) => (\r\n  <div className={ContainerPage}>{children}</div>\r\n);\r\n\r\nexport default Container;\r\n","import React from 'react';\r\nimport { mainContainer } from './MainContainer.module.css';\r\n\r\nconst Container = ({ children }) => (\r\n  <div className={mainContainer}>{children}</div>\r\n);\r\n\r\nexport default Container;\r\n","import React, { Component, Suspense, lazy } from 'react';\nimport AppBar from './components/AppBar/AppBar';\nimport { Switch, Route } from 'react-router-dom';\nimport { authOperations } from './redux/auth';\nimport { connect } from 'react-redux';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\nimport Container from './components/Container/Container.jsx';\nimport MainContainer from './components/MainContainer/MainContainer.jsx';\n\nconst HomePage = lazy(() => import('./views/HomePage/HomePage.jsx'));\nconst Contacts = lazy(() => import('./views/Contacts/Contacts.jsx'));\nconst Register = lazy(() => import('./views/Register/Register.jsx'));\nconst Login = lazy(() => import('./views/Login/Login.jsx'));\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onGetCurrentUser();\n  }\n\n  render() {\n    return (\n      <Container>\n        <AppBar />\n        <Suspense fallback={<p>Загружаем...</p>}>\n          <MainContainer>\n            <Switch>\n              <PublicRoute exact path=\"/\" component={HomePage} />\n              <PrivateRoute\n                path=\"/contacts\"\n                component={Contacts}\n                redirectTo=\"/login\"\n              />\n              <PublicRoute\n                path=\"/register\"\n                restricted\n                component={Register}\n                redirectTo=\"/contacts\"\n              />\n              <PublicRoute\n                path=\"/login\"\n                restricted\n                component={Login}\n                redirectTo=\"/contacts\"\n              />\n            </Switch>\n          </MainContainer>\n        </Suspense>\n      </Container>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  onGetCurrentUser: authOperations.getCurrentUser,\n};\n\nexport default connect(null, mapDispatchToProps)(App);\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  addContactSuccess,\r\n  addContactRequest,\r\n  addContactError,\r\n  deleteContactSuccess,\r\n  deleteContactRequest,\r\n  deleteContactError,\r\n  changeFilter,\r\n  fetchContactsError,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n} from './phonebook-actions';\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactsSuccess]: (_, action) => action.payload,\r\n  [addContactSuccess]: (state, action) => [...state, action.payload],\r\n  [deleteContactSuccess]: (state, action) => {\r\n    const index = state.findIndex(item => item.id === action.payload);\r\n    return [...state.slice(0, index), ...state.slice(index + 1)];\r\n  },\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [changeFilter]: (_, action) => action.payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [fetchContactsError]: (_, { payload }) => payload,\r\n  [fetchContactsRequest]: () => null,\r\n  [addContactRequest]: () => null,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n  error,\r\n});\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport phonebookReducer from './phonebook/phonebook-reducer';\r\nimport { authReducer } from './auth';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: phonebookReducer,\r\n  },\r\n  middleware,\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}